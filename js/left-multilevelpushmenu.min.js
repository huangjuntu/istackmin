!function(a){a.fn.multilevelpushmenu=function(b){var c=arguments;return returnValue=null,this.each(function(){function k(a){a.stopPropagation&&a.preventDefault?(a.stopPropagation(),a.preventDefault()):(a.cancelBubble=!0,a.returnValue=!1)}function l(){var b=a("<nav />").prop({id:d.settings.menuID,className:d.settings.wrapperClass}).appendTo(d.settings.container);m(d.settings.menu,b)}function m(b,c){void 0==b.level&&(b.level=0),a.each(b,function(){var e=a("<div />").attr({"class":"levelHolderClass","data-level":b.level,style:"margin-left: "+(0!=b.level||d.settings.collapsed?"-200%":0)}).appendTo(c),f=z(d.settings.menuWidth)||y(d.settings.menuWidth)&&d.settings.menuWidth>0;f&&e.width(d.settings.menuWidth);var g=a("<h2 />").text(this.title).appendTo(e),i=a("<i />").prop({"class":"floatRight cursorPointer "+this.icon}).prependTo(g);i.bind(h,function(a){p(a,e,b)}),b.level>0&&q(e);a("<ul />").appendTo(e);a.each(this.items,function(){u(this,e,-1)})})}function n(){var a=d.settings.container.find("nav").length>0?d.settings.container.find("nav"):d.settings.menu;return 0==a.length?!1:(a.prop({id:d.settings.menuID,className:d.settings.wrapperClass}),void o(a))}function o(b){void 0==b.level&&(b.level=0),a.each(b,function(){var c=a("<div />").attr({"class":"levelHolderClass","data-level":b.level,style:"margin-left: "+(0!=b.level||d.settings.collapsed?"-200%":0)}).appendTo(b),e=z(d.settings.menuWidth)||y(d.settings.menuWidth)&&d.settings.menuWidth>0;e&&c.width(d.settings.menuWidth);var f=b.children("h2");f.appendTo(c);var g=f.children("i");g.addClass("floatRight cursorPointer"),g.bind(h,function(a){p(a,c,b)}),b.level>0&&q(c);var i=b.children("ul");i.appendTo(c),a.each(i.children("li"),function(){var d=a(this),e=d.children("a"),f=e.children("i");f.addClass("floatRight"),d.children("ul").length>0?(e.bind(h,function(a){s(a,c,d)}),t(e),d.level=b.level+1,o(d)):e.bind(h,function(a){v(a,c,d)})})})}function p(b,c,e){if(a(d).find("div.levelHolderClass").is(":animated"))return!1;if(d.settings.onTitleItemClick.apply(this,Array.prototype.slice.call([b,c,d.settings])),k(b),0==e.level&&parseInt(c.css("margin-left"))<0)F();else{var f=d.settings.container.find("#"+d.settings.menuID+" div.levelHolderClass").filter(function(){return a(this).attr("data-level")>c.attr("data-level")&&parseInt(a(this).css("margin-left"))>=0}),g=d.settings.container.find("#"+d.settings.menuID+" div.levelHolderClass").filter(function(){return a(this).attr("data-level")<=c.attr("data-level")&&parseInt(a(this).css("margin-left"))>=0});0==f.length&&1==g.length?D():D(parseInt(c.attr("data-level")))}c.css("visibility","visible"),c.find("."+d.settings.backItemClass).css("visibility","visible"),c.find("ul").css("visibility","visible"),c.removeClass(d.settings.menuInactiveClass)}function q(b){var c=a("<div />").attr({"class":d.settings.backItemClass}).appendTo(b),e=a("<a />").prop({href:"#"}).text(d.settings.backText).appendTo(c);a("<i />").prop({"class":"floatRight "+d.settings.backItemIcon}).prependTo(e);e.bind(h,function(a){r(a,b)})}function r(b,c){return a(d).find("div.levelHolderClass").is(":animated")?!1:(d.settings.onBackItemClick.apply(this,Array.prototype.slice.call([b,c,d.settings])),k(b),void D(parseInt(c.attr("data-level")-1)))}function s(b,c,e){return a(d).find("div.levelHolderClass").is(":animated")?!1:(d.settings.onGroupItemClick.apply(this,Array.prototype.slice.call([b,c,e,d.settings])),F(e.find("div:first")),void(d.settings.preventGroupItemClick&&k(b)))}function t(b){a("<i />").prop({"class":"iconSpacing "+d.settings.groupIcon}).prependTo(b)}function u(){var b=arguments[0],c=arguments[1],d=arguments[2],e=c.find("ul:first"),f=a("<li />");d<e.find("li").length&&d>=0?f.insertBefore(e.find("li").eq(d)):f.appendTo(e);var g=a("<a />").prop({href:b.link}).text(b.name).appendTo(f);a("<i />").prop({"class":"floatRight "+b.icon}).prependTo(g);b.items?(g.bind(h,function(a){s(a,c,f)}),t(g),b.items.level=parseInt(c.attr("data-level"),10)+1,m(b.items,f)):g.bind(h,function(a){v(a,c,f)})}function v(a,b,c){d.settings.onItemClick.apply(this,Array.prototype.slice.call([a,b,c,d.settings])),d.settings.preventItemClick&&k(a)}function w(){var b=arguments[0],c=arguments[1],e=arguments[2],g=a("#"+d.settings.menuID+" div.levelHolderClass").first().css("filter").match(/DXImageTransform\.Microsoft\.Shadow/)?a("#"+d.settings.menuID+" div.levelHolderClass").first().get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0,h=void 0==b?Math.max.apply(null,a("#"+d.settings.menuID+" div.levelHolderClass").map(function(){return a(this).width()}).get()):b,i=Math.max.apply(null,a("#"+d.settings.menuID+" div.levelHolderClass").map(function(){return a(this).attr("data-level")}).get()),j=h+i*(d.settings.overlapWidth+g),k=void 0==c?Math.max.apply(null,a("#"+d.settings.menuID+" div.levelHolderClass").map(function(){return a(this).height()}).get()):c,l=z(d.settings.menuWidth)||y(d.settings.menuWidth)&&d.settings.menuWidth>0,m=z(d.settings.menuHeight)||y(d.settings.menuHeight)&&d.settings.menuHeight>0,n=void 0==e?a("#"+d.settings.menuID+" div.levelHolderClass"):e;l?n.width(d.settings.menuWidth):n.width(h),m?a("#"+d.settings.menuID).height(d.settings.menuHeight):a("#"+d.settings.menuID).height(k),f.width(j),f.height(k),x(),d.settings.menuWidth=h,d.settings.menuHeight=k}function x(){var b=a("#"+d.settings.menuID+" div.levelHolderClass:first"),c=d.settings.container.find("#"+d.settings.menuID+" div.levelHolderClass").filter(function(){return(a(this).position().left<0||parseInt(a(this).css("margin-left"))<0)&&a(this).attr("data-level")>b.attr("data-level")});c.each(function(){a(this).css("margin-left",0!=a(this).attr("data-level")||d.settings.collapsed?-2*a(this).width():0)})}function y(a){return"number"==typeof a&&parseFloat(a)==parseInt(a,10)&&!isNaN(a)}function z(a){return"string"==typeof a&&(-1!=a.indexOf("%")||-1!=a.indexOf("px")||-1!=a.indexOf("em"))}function A(){void 0!=b.menu?l():n();return w(),B(d.settings.collapsed),e}function B(b){b&&($baseLevelHolder=a("#"+d.settings.menuID+" div.levelHolderClass:first"),$baseLevelHolder.find("ul").hide(),$baseLevelHolder.addClass(d.settings.menuInactiveClass),$baseLevelHolder.stop().animate({marginLeft:-1*$baseLevelHolder.width()+d.settings.overlapWidth}))}function C(b){return null==d.settings.containersToPush?!1:void a.each(d.settings.containersToPush,function(){a(this).stop().animate({marginLeft:a(this).offset().left-a(this).position().left+b})})}function D(){if(a(d).find("div.levelHolderClass").is(":animated"))return!1;d.settings.onCollapseMenuStart.apply(this,Array.prototype.slice.call([d.settings]));var g,h,i,b=arguments[0],c=arguments[1],f={},j=a("#"+d.settings.menuID+" div.levelHolderClass:first"),k=void 0==b?!0:!1;if(f.collapsingEnded=!1,"object"==typeof b)b=b.attr("data-level");else if("string"==typeof b){var l=G(b);b=l&&1==l.length?l.attr("data-level"):j.attr("data-level")}else(void 0==b||!y(b)||0>b)&&(b=j.attr("data-level"));void 0==c&&"object"!=typeof c?c=[{method:d.settings.onCollapseMenuEnd,args:[d.settings]}]:a.merge(c,[{method:d.settings.onCollapseMenuEnd,args:[d.settings]}]);var m=d.settings.container.find("#"+d.settings.menuID+" div.levelHolderClass").filter(function(){return a(this).attr("data-level")>b&&parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0}),n=d.settings.container.find("#"+d.settings.menuID+" div.levelHolderClass").filter(function(){return a(this).attr("data-level")<=b&&parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0});return n.length>0&&(f.prevAnimEnded=!1,m.each(function(b,c){g=a(c).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/)?a(c).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0,h="overlap"==d.settings.mode?a(c).width()-(m.length+n.length-a(c).attr("data-level")-1)*(d.settings.overlapWidth+g)-g:a(c).width()-g,a(c).stop().animate({marginLeft:-1*h,width:h})}),f.nextAnimEnded=m.length>0?!1:!0,m.last().queue(function(){f.nextAnimEnded=!0,O(f,c)}),n.each(function(c,e){g=a(e).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/)?a(e).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;var f=n.filter(function(){return a(this).attr("data-level")==b});f.css("visibility","visible"),f.find("."+d.settings.backItemClass).css("visibility","visible"),f.find("ul").css("visibility","visible"),f.removeClass(d.settings.menuInactiveClass),h="overlap"==d.settings.mode?a(e).width()-m.length*(d.settings.overlapWidth+g)-g:a(e).width()-g,a(e).stop().animate({width:h,marginLeft:a(e).attr("data-level")==j.attr("data-level")&&k?-1*a(e).width()+(m.length+1)*d.settings.overlapWidth:0},function(){a(e).attr("data-level")==j.attr("data-level")&&k&&j.find("ul").hide(500,function(){j.addClass(d.settings.menuInactiveClass)})}),i="overlap"==d.settings.mode?-1*(m.length*(d.settings.overlapWidth+g)):0,C(a(e).attr("data-level")==j.attr("data-level")&&k?-1*(j.width()-g)+d.settings.overlapWidth:i)}),n.last().queue(function(){f.prevAnimEnded=!0,O(f,c)})),f.collapsingEnded=!0,O(f,c),e}function E(){if(a(d).find("div.levelHolderClass").is(":animated"))return!1;d.settings.onExpandMenuStart.apply(this,Array.prototype.slice.call([d.settings]));var e,f,g,b=arguments[0],c=arguments[1],h={},i=a("#"+d.settings.menuID+" div.levelHolderClass:first"),j=parseInt(i.css("margin-left"),10)<0||i.position().left<0,k=void 0==b?!0:!1;if(h.expandingEnded=!1,void 0==c&&"object"!=typeof c?c=[{method:d.settings.onExpandMenuEnd,args:[d.settings]}]:a.merge(c,[{method:d.settings.onExpandMenuEnd,args:[d.settings]}]),k){h.baseAnimEnded=!1,i.removeClass(d.settings.menuInactiveClass),i.stop().animate({marginLeft:0},function(){i.find("ul").show(500).last().queue(function(){h.baseAnimEnded=!0,O(h,c)})});L(i)?null:C(i.width()-d.settings.overlapWidth)}else if("object"==typeof b?$selectedLevelHolder=b:"string"==typeof b?$selectedLevelHolder=G(b):($selectedLevelHolder=null,a.error("Provided menu selector is not valid")),$selectedLevelHolder&&1==$selectedLevelHolder.length){var m=K(),n=1==m.length?m.attr("data-level"):0,o=$selectedLevelHolder.width();if(h.setToOpenAnimEnded=!1,setToOpenHolders=I($selectedLevelHolder)){var p=a(setToOpenHolders).length-1;i.find("ul").show(0),a(setToOpenHolders).find("ul").css("visibility","hidden"),a(setToOpenHolders).find("div").css("visibility","visible"),a(setToOpenHolders).find("."+d.settings.backItemClass).css("visibility","hidden"),a(setToOpenHolders).each(function(b,c){e=a(c).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/)?a(c).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0,f=o-e+(p-a(c).attr("data-level"))*(d.settings.overlapWidth+e),a(c).stop().animate({marginLeft:0,width:"overlap"==d.settings.mode?f:o-e},function(){a(c).addClass(d.settings.menuInactiveClass)})}),a(setToOpenHolders).last().queue(function(){a(this).removeClass(d.settings.menuInactiveClass),h.setToOpenAnimEnded=!0,O(h,c)}),j&&C(i.width()-d.settings.overlapWidth),"overlap"==d.settings.mode&&(g=j?o+(p-1)*(d.settings.overlapWidth+e):(p-n)*(d.settings.overlapWidth+e),C(g)),$selectedLevelHolder.css("visibility","visible"),$selectedLevelHolder.find("."+d.settings.backItemClass).css("visibility","visible"),$selectedLevelHolder.find("ul").css("visibility","visible"),$selectedLevelHolder.removeClass(d.settings.menuInactiveClass)}else a.error("Invalid menu object provided")}else a.error("No or too many menus named "+b);h.expandingEnded=!0,O(h,c)}function F(){var c,g,h,i,b=arguments[0],f=K();return"object"==typeof b?c=b:"string"==typeof b?(i=G(b),i?c=i.eq(0):a.error(b+" menu level does not exist!")):c=a("#"+d.settings.menuID+" div.levelHolderClass:first"),g=J(c,f,!0),h=g.length>0?Math.max.apply(null,g.map(function(){return a(this).attr("data-level")}).get()):0,h<f.attr("data-level")?D(h,[{method:E,args:arguments}]):E.apply(this,Array.prototype.slice.call(arguments)),e}function G(){var c,b=arguments[0],e=d.settings.container.find("#"+d.settings.menuID+" div.levelHolderClass").filter(function(){return a(this).children("h2").text()==b});return e.length>0?(returnValue=e,c=returnValue):(returnValue=!1,c=returnValue),c}function H(){var c,b=arguments[0],e=d.settings.container.find("#"+d.settings.menuID+" div.levelHolderClass li").filter(function(){return a(this).children("a").text()==b});return e.length>0?(returnValue=e,c=returnValue):(returnValue=!1,c=returnValue),c}function I(){var c,d,b=arguments[0];return void 0==b||1!=b.length?(returnValue=!1,returnValue):(c=b.parents("div.levelHolderClass"),d=a.merge(c.get().reverse(),b.get()),returnValue=d,returnValue)}function J(){var e,f,g,h,i,j,k,b=arguments[0],c=arguments[1],d=void 0!=arguments[2]?arguments[2]:!1;return void 0==b||void 0==c?(returnValue=!1,returnValue):(e=1==b.length?b.parents("div.levelHolderClass"):null,f=1==c.length?c.parents("div.levelHolderClass"):null,g=null!=e?a.merge(e.get().reverse(),b.get()):[],h=null!=f?a.merge(f.get().reverse(),c.get()):[],i=g.length>=h.length?g:h,j=i===g?h:g,k=a(i).filter(function(){return d?-1!=a.inArray(this,j):-1==a.inArray(this,j)}),returnValue=k,returnValue)}function K(){var b=d.settings.container.find("#"+d.settings.menuID+" div.levelHolderClass").filter(function(){return parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0}),c=Math.max.apply(null,b.map(function(){return a(this).attr("data-level")}).get());return $activeLevelHolder=b.filter(function(){return a(this).attr("data-level")==c}),returnValue=$activeLevelHolder,returnValue}function L(){var a=arguments[0],b=!1;return void 0==a?b:(parseInt(a.css("margin-left"))>=0&&a.position().left>=0&&(b=!0),b)}function M(){var b=arguments[0],c=arguments[1],f=arguments[2];if(void 0==c||"object"!=typeof b)return!1;void 0==b.level&&(b.level=parseInt(c.attr("data-level"),10)),void 0==f&&(f=0);c.find("ul:first");return a.each(b,function(){void 0!=this.name&&u(this,c,f)}),w(d.settings.menuWidth,void 0,c.find("div.levelHolderClass")),e}function N(){var b=arguments[0];if(void 0==b||"object"!=typeof b||0==b.length)return!1;b.remove();var c=K();if(1==c.length){c.css("visibility","visible"),c.find("."+d.settings.backItemClass).css("visibility","visible"),c.find("ul").css("visibility","visible"),c.removeClass(d.settings.menuInactiveClass);var f=c.width()-d.settings.menuWidth;if(0!=f){var g=d.settings.container.find("#"+d.settings.menuID+" div.levelHolderClass").filter(function(){return a(this).position().left>=0&&parseInt(a(this).css("margin-left"))>=0});g.each(function(){a(this).width(a(this).width()-f)})}}return e}function O(b,c){var d=!0;a.each(b,function(a,b){d=d&&b}),d&&window.setTimeout(function(){a.each(c,function(a,b){b.method.apply(this,Array.prototype.slice.call(b.args))})},1)}function P(){var b=!1;return void 0!=d.settings[arguments[0]]?(void 0!=arguments[1]&&(d.settings[arguments[0]]=arguments[1]),b=d.settings[arguments[0]]):a.error("No option "+arguments[0]+" found in jQuery.multilevelpushmenu"),b}function Q(){var a=!1;return function(b){(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a}var d=this,e=a(this),f=void 0!=e.context?e:a("body"),g=void 0!=b.menu?b.menu:e.find("nav"),h=Q()?"touchstart":"click",i=a.extend({container:f,containersToPush:null,menuID:(void 0!=f.prop("id")&&""!=f.prop("id")?f.prop("id"):this.nodeName.toLowerCase())+"_multilevelpushmenu",wrapperClass:"multilevelpushmenu_wrapper",menuInactiveClass:"multilevelpushmenu_inactive",menu:g,menuWidth:0,menuHeight:0,collapsed:!1,backText:"Back",backItemClass:"backItemClass",backItemIcon:"fa fa-angle-right",groupIcon:"fa fa-angle-left",mode:"overlap",overlapWidth:40,preventItemClick:!0,preventGroupItemClick:!0,onCollapseMenuStart:function(){},onCollapseMenuEnd:function(){},onExpandMenuStart:function(){},onExpandMenuEnd:function(){},onGroupItemClick:function(){},onItemClick:function(){},onTitleItemClick:function(){},onBackItemClick:function(){}},b);a.data(d,"plugin_multilevelpushmenu")||(a.data(d,"plugin_multilevelpushmenu",i),d.settings=a.data(d,"plugin_multilevelpushmenu"));var j={init:function(){return A.apply(this,Array.prototype.slice.call(arguments))},collapse:function(){return D.apply(this,Array.prototype.slice.call(arguments))},expand:function(){return F.apply(this,Array.prototype.slice.call(arguments))},menuexpanded:function(){return L.apply(this,Array.prototype.slice.call(arguments))},activemenu:function(){return K.apply(this,Array.prototype.slice.call(arguments))},findmenusbytitle:function(){return G.apply(this,Array.prototype.slice.call(arguments))},finditemsbyname:function(){return H.apply(this,Array.prototype.slice.call(arguments))},pathtoroot:function(){return I.apply(this,Array.prototype.slice.call(arguments))},comparepaths:function(){return J.apply(this,Array.prototype.slice.call(arguments))},option:function(){return P.apply(this,Array.prototype.slice.call(arguments))},additems:function(){return M.apply(this,Array.prototype.slice.call(arguments))},removeitems:function(){return N.apply(this,Array.prototype.slice.call(arguments))}};return j[b]?(returnValue=j[b].apply(this,Array.prototype.slice.call(c,1)),returnValue):"object"!=typeof b&&b?(a.error("No "+b+" method found in jQuery.multilevelpushmenu"),void(returnValue||(returnValue=this))):(returnValue=j.init.apply(this,arguments),returnValue)}),returnValue}}(jQuery);